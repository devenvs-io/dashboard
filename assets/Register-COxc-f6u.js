import{r as d,u as w,j as e,c as y,C,a as b,b as E,d as S,e as R,L as t,I as l,B as A,f as F,g as x,A as u}from"./index-BxxYVN0X.js";import{A as L}from"./AnimatedPage-B74sTbsi.js";function I({className:h,...f}){const[s,g]=d.useState({firstName:"",lastName:"",email:"",password:""}),[c,o]=d.useState(!1),p=w(),[m,i]=d.useState(null),r=n=>{const{id:a,value:N}=n.target;g(v=>({...v,[a]:N}))},j=async n=>{n.preventDefault(),i(null),o(!0);try{const a=await u.register(s.email,s.password,s.firstName+" "+s.lastName);a.status?(await u.sendVerificationEmail(),p(x.HOME)):i(a.message)}catch(a){console.error("Registration failed:",a),i("An unexpected error occurred. Please try again.")}finally{o(!1)}};return e.jsx(L,{direction:"fade",children:e.jsx("div",{className:"flex flex-col lg:flex-row h-screen",children:e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("div",{className:y("flex flex-col m-auto w-full max-w-[400px] gap-6",h),...f,children:e.jsxs(C,{children:[e.jsxs(b,{children:[e.jsx(E,{children:"Register to your account"}),e.jsx(S,{children:"Enter your basic details below to register to your account"})]}),e.jsx("hr",{}),e.jsx(R,{children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(t,{htmlFor:"firstName",children:"First Name"}),e.jsx(l,{id:"firstName",type:"firstName",placeholder:"John",value:s.firstName,onChange:r,required:!0})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(t,{htmlFor:"lastName",children:"Last Name"}),e.jsx(l,{id:"lastName",type:"lastName",placeholder:"Doe",value:s.lastName,onChange:r,required:!0})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",placeholder:"m@example.com",value:s.email,onChange:r,required:!0})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(t,{htmlFor:"password",children:"Password"})}),e.jsx(l,{id:"password",type:"password",value:s.password,onChange:r,required:!0})]}),m&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:m}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(A,{type:"submit",className:"w-full",disabled:c,children:c?"Registering...":"Register"})})]}),e.jsxs("div",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",e.jsx(F,{to:x.LOGIN,className:"underline underline-offset-4",children:"Sign in"})]})]})})]})})})})})}export{I as default};
